Changes only in Hortonworks github and not in Apache SPARK-1.6.1 and hence not covered by CHANGES.txt.

INCOMPATIBLE CHANGES

NEW FEATURES

IMPROVEMENTS

  BUG-50516. OrcRelation uses HadoopRDD which can broadcast conf objects frequently.
  BUG-50246. Fix high CPU usage in Spark thrift server with concurrent users.
  BUG-50397. Enable OrcRelation even when connecting via spark thrift server
  BUG-51300. (SPARK-12925) Improve HiveInspectors.unwrap for StringObjectInspector.getPrimitiveWritableObject
  BUG-51395. (SPARK-12417) support to have ORC bloom filters during write code path
  BUG-51301. (SPARK-12898) Consider having dummyCallSite for HiveTableScan
  RMP-5184. Upload spark assembly jar to HDFS
  BUG-50102. sparkr.zip is missing in the spark distribution
  Revert SPARK-2960 because it do the same as BUG-30990 but may still not work for HDP
  also revert SPARK-11218 which is dependent on SPARK-2960
  BUG-48982. Add hadoop lzo jar to the classpath
  BUG-47650. Spark streaming is not using internal kafka build
  BUG-47901. fix scalastyle check
  BUG-47814. ported ConfigCheck
  BUG-30990. Resolving symlinks in bin/spark-* scripts
  HOTFIX-31 adding R to assembly descriptor, copying to /R/lib/SparkR
  HOTFIX-25 disable mqtt assembly builds unless -Pmqtt-assembly set
  SPARK-11314 Add service API and test service for Yarn Cluster schedulers
  SPARK-11315 Add YARN extension service to publish Spark events to YARN timeline service (part of SPARK-1537)
  SPARK-11323 Add History Service Provider to service application histories from YARN timeline server (part of SPARK-1537)

BUG FIXES

  BUG-48230. yarn-client app hangs on shutdown
  BUG-47809. Application gets stuck with scala.MatchError
  BUG-47316. spark.history.provider isn't resolving to the history provider class: reinstate original classes as subclasses of the moved ones
  BUG-51094. RM redirects to incorrect URL in Spark HS for yarn-cluster mode
  SPARK-13599. Groovy-all ends up in spark-assembly if hive profile set
